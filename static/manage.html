<!doctype html>
<html lang="en"><head>
<meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1">
<title>Caseboard • Manage</title>
<link rel="icon" href="/favicon.ico">
<link rel="stylesheet" href="/static/brand.css">
<link rel="stylesheet" href="/static/fonts/fonts.css">
  <link rel="stylesheet" href="/static/styles.css">
</head>
<body class="page-manage">
<header class="header">
  <img src="/static/pngs/McMathWoods_Logo_White.png" alt="McMath Woods" style="height:22px">
  <div class="brand">McMath Woods • David W. Wells</div>
  <div class="live"><span id="date" class="date"></span><span id="dot" class="dot"></span><span id="clock"></span></div>
</header>

<div class="wrap manage-layout">
  <section class="card toolbar" aria-label="Case tools">
    <div class="toolbar-left">
      <div>
        <div class="small">Search</div>
        <input id="search" type="search" placeholder="Search client, case, paralegal...">
      </div>
      <div>
        <div class="small">Stage</div>
        <select id="filter_stage">
          <option value="all">All stages</option>
          <option value="Pre-filing">Pre-filing</option>
          <option value="Filed">Filed</option>
          <option value="Discovery">Discovery</option>
          <option value="Pretrial">Pretrial</option>
          <option value="Trial">Trial</option>
          <option value="Closed">Closed</option>
        </select>
      </div>
      <div>
        <div class="small">Status</div>
        <select id="filter_status">
          <option value="all">All statuses</option>
          <option value="Pre-filing">Pre-filing</option>
          <option value="Active">Active</option>
          <option value="Settlement">Settlement</option>
          <option value="Post-Trial">Post-Trial</option>
          <option value="Appeal">Appeal</option>
        </select>
      </div>
      <div>
        <div class="small">Attention</div>
        <select id="filter_attention">
          <option value="all">All</option>
          <option value="needs_attention">Needs attention</option>
          <option value="waiting">Waiting</option>
          <option value="">None</option>
        </select>
      </div>
      <div>
        <div class="small">Paralegal</div>
        <select id="filter_paralegal">
          <option value="all">All paralegals</option>
        </select>
      </div>
    </div>
          <div class="toolbar-right">
        <div class="small" id="result_count">0 cases</div>
        <div class="toolbar-actions">
          <button id="clear_filters" type="button" class="ghost">Clear</button>
          <button id="import_cases" type="button">Import CSV</button>
          <a class="button" href="/add">+ New Case/Client</a>
          <a class="button" id="download_pdf" href="/api/reports/clients.pdf" target="_blank" rel="noopener">Download PDF</a>
        </div>
        <div id="import_feedback" class="import-feedback" role="status" aria-live="polite"></div>
      </div>
  </section>

  <input id="import_file" type="file" accept=".csv,text/csv" hidden>

  <section class="insights-grid" aria-label="Case insights">
    <article class="insight-card" aria-live="polite">
      <div class="metric-label">Active cases</div>
      <div class="metric-value" id="metric_total">0</div>
      <div class="metric-hint" id="metric_total_hint">Showing all cases</div>
    </article>
    <button type="button" class="insight-card actionable" data-filter="attention" data-value="needs_attention">
      <div class="metric-label">Needs attention</div>
      <div class="metric-value" id="metric_attention">0</div>
      <div class="metric-hint" id="metric_attention_hint">Tap to show only urgent matters</div>
    </button>
    <button type="button" class="insight-card actionable" data-filter="due" data-value="soon">
      <div class="metric-label">Due soon</div>
      <div class="metric-value" id="metric_due_soon">0</div>
      <div class="metric-hint" id="hint_due_soon">Next 7 days</div>
    </button>
    <button type="button" class="insight-card actionable" data-filter="stale" data-value="14">
      <div class="metric-label">Stale focus</div>
      <div class="metric-value" id="metric_stale_focus">0</div>
      <div class="metric-hint" id="hint_stale_focus">No update in 14+ days</div>
    </button>
  </section>

  <div class="board-grid">
    <!-- Cases table -->
    <section class="card list-card" aria-label="Case list">
            <div class="thead">
        <div class="cell col-client">Client</div>
        <div class="cell col-case-name">Case</div>
        <div class="cell col-type">Type</div>
        <div class="cell col-stage">Stage</div>
        <div class="cell col-status">Status</div>
        <div class="cell col-focus">Focus</div>
        <div class="cell col-para">Paralegal</div>
        <div class="cell col-due">Next Due</div>
        <div class="cell col-priority" title="Top Priority (TV)">Top</div>
      </div>
      <div id="list" class="list-body"></div>
    </section>

    <!-- Editor -->
    <section class="card details-card" aria-live="polite">
      <input type="hidden" id="id">
      <header class="details-header">
        <div>
          <div class="small">Selected case</div>
          <h2 id="detail_title">Choose a case to review</h2>
          <p id="detail_subtitle" class="small"></p>
        </div>
                <div class="attention-group">
          <button id="attention_needs" type="button" data-state="needs_attention" class="chip">Needs Attention</button>
          <button id="attention_waiting" type="button" data-state="waiting" class="chip">Waiting</button>
          <button id="attention_clear" type="button" data-state="" class="chip">Clear</button>
          <button id="toggle_top" type="button" class="chip" title="Mark this case as Top Priority for TV">Top Priority</button>
        </div>
                <div class="header-actions">
          <button id="open_edit" type="button" class="ghost" disabled>Open full editor</button>
          <button id="archive_case" type="button" class="ghost" disabled>Archive</button>
          <button id="delete_case" type="button" class="ghost danger" disabled>Delete case</button>
        </div>
      </header>

      <section class="details-overview" aria-label="Case overview">
                <div class="details-grid">
          <div class="detail-pair"><span class="detail-label">Client</span><span class="detail-value" id="detail_client_name">—</span></div>
          <div class="detail-pair"><span class="detail-label">Case</span><span class="detail-value" id="detail_case_name">—</span></div>
          <div class="detail-pair"><span class="detail-label">Type</span><span class="detail-value" id="detail_case_type">—</span></div>
          <div class="detail-pair"><span class="detail-label">Paralegal</span><span class="detail-value" id="detail_paralegal">—</span></div>
          <div class="detail-pair"><span class="detail-label">Stage</span><span class="detail-value" id="detail_stage">—</span></div>
          <div class="detail-pair"><span class="detail-label">Status</span><span class="detail-value" id="detail_status">—</span></div>
          <div class="detail-pair"><span class="detail-label">Case #</span><span class="detail-value" id="detail_case_number">—</span></div>
          <div class="detail-pair"><span class="detail-label">County</span><span class="detail-value" id="detail_county">—</span></div>
          <div class="detail-pair"><span class="detail-label">Division</span><span class="detail-value" id="detail_division">—</span></div>
          <div class="detail-pair"><span class="detail-label">Judge</span><span class="detail-value" id="detail_judge">—</span></div>
          <div class="detail-pair"><span class="detail-label">Opposing counsel</span><span class="detail-value" id="detail_opposing_counsel">—</span></div>
          <div class="detail-pair"><span class="detail-label">Opposing firm</span><span class="detail-value" id="detail_opposing_firm">—</span></div>
          <div class="detail-pair"><span class="detail-label">Client phone</span><span class="detail-value" id="detail_client_phone">—</span></div>
          <div class="detail-pair"><span class="detail-label">Client birthday</span><span class="detail-value" id="detail_client_dob">—</span></div>
          <div class="detail-pair" style="grid-column:1/-1"><span class="detail-label">Client address</span><span class="detail-value" id="detail_client_address">—</span></div>
          <div class="detail-pair" style="grid-column:1/-1"><span class="detail-label">Claim summary</span><span class="detail-value" id="detail_claim_summary">—</span></div>
        </div>
      </section>

      <section class="details-section current-focus">
        <header><div class="small">Current focus</div></header>
        <p id="current_focus_text" class="current-focus-text">Select a case to see the latest focus.</p>
      </section>

      <section class="details-section">
        <header><div class="small">ICD-10 Codes</div></header>
        <div id="icd10_list" class="deadline-list"></div>
        <div style="display:flex; gap:8px; margin-top:8px;">
          <input id="icd_input" placeholder="e.g., S06.0X0A" style="max-width:220px;">
          <input id="icd_desc" placeholder="(auto) description" style="flex:1;">
          <button id="add_icd" type="button" disabled>Add code</button>
        </div>
      </section>

      <section class="details-section">
        <header><div class="small">Providers & Contacts</div></header>
        <div id="providers_list" class="deadline-list"></div>
        <button id="add_provider" type="button" disabled>Add provider</button>
      </section>


      <section class="details-section">
        <header><div class="small">Deadlines</div></header>
        <div id="deadlines" class="deadline-list"></div>
        <button id="add_deadline" type="button" disabled>Add deadline</button>
      </section>

      <section class="details-section focus-entry">
        <header><div class="small">Log a new focus</div></header>
        <div class="focus-entry-controls">
          <label class="small" for="focus_author">Changed by</label>
          <select id="focus_author" disabled>
            <option value="DW">DW</option>
          </select>
        </div>
        <input id="focus_entry" placeholder="Type a new focus and press Enter" disabled>
      </section>

      <section class="details-section">
        <header><div class="small">Focus Log</div></header>
        <ul id="focus_list" class="focus-list"></ul>
      </section>

      <section class="details-section">
        <header><div class="small">Colleague Tasks</div></header>
        <div id="colleague_tasks" class="colleague-tasks-list"></div>
      </section>
    </section>
  </div>
</div>

<script src="/static/manage.js"></script>
<script>
function formatLongDate(d) {
  return d.toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' });
}
function updateHeaderDate() {
  document.getElementById('date').textContent = formatLongDate(new Date());
}
setInterval(()=>{
  document.getElementById('clock').textContent = new Date().toLocaleTimeString([], {hour:'numeric',minute:'2-digit',second:'2-digit'});
  updateHeaderDate();
}, 1000);
updateHeaderDate();
</script>
</body></html>



